import{d as h,L as p,b as g,_ as u,c as n,a as t,e as i,f,t as r,F as _,r as x,g as o,o as s}from"./index-b87ddb69.js";import{S as w,P as b}from"./SideAnimeList-5574b476.js";const v=h({name:"Home",components:{SideAnimeList:w,Loading:p,Pagination:b},data(){return{animeList:[],isLoading:!1,page:1,error:{isError:!1,errMsg:""}}},computed:{AnimeData(){return this.animeList}},async mounted(){this.fetchAnime()},methods:{async fetchAnime(){this.isLoading=!0,await g.get(`https://webdis-emec.onrender.com/new-season?page=${this.page}`).then(e=>{this.animeList=e.data,this.isLoading=!1}).catch(e=>{console.log(e),this.isLoading=!1,this.error={isError:!0,errMsg:e.message}})},changePage(e){this.page=e,this.fetchAnime()}}}),y={class:"w-full md:p-5 py-1 flex gap-5 justify-between"},L={class:"w-full h-full bg-black md:rounded-xl overflow-hidden"},k={class:"bg-[red] w-full flex justify-between items-center"},A=t("h3",{class:"text-sm md:text-base font-semibold text-white px-5 py-2"}," NEW SEASON",-1),S={key:1,class:"h-[80vh] grid place-content-center text-center"},P={class:"text-[red] text-xl"},$=t("p",{class:"text-white text-lg"},"Please try again later.",-1),E={key:2,class:"w-full p-5 flex gap-5 flex-wrap justify-center"},N=["onClick"],j=["src"],B={class:"play-btn opacity-0 duration-300 absolute top-0 left-0 w-full h-full bg-black/50 grid place-items-center cursor-pointer"},C={class:"text-center p-3"},D={class:"text-[15px] md:text-base font-semibold text-white hover:text-[red] cursor-pointer"},I={class:"text-[13px] md:text-sm text-white/80"};function M(e,F,V,H,O,R){const l=o("Pagination"),c=o("Loading"),d=o("v-icon"),m=o("SideAnimeList");return s(),n("div",y,[t("div",L,[t("header",k,[A,i(l,{page:e.page,"change-page":e.changePage,"total-page":5},null,8,["page","change-page"])]),e.isLoading?(s(),f(c,{key:0})):e.error.isError?(s(),n("span",S,[t("h2",P,r(e.error.errMsg),1),$])):(s(),n("div",E,[(s(!0),n(_,null,x(e.AnimeData,a=>(s(),n("div",{key:a.animeId,class:"max-w-[130px] md:max-w-[200px] md:max-h-96"},[t("div",{class:"anime-img duration-300 relative w-full h-48 md:max-h-72 md:h-full bg-white/20 rounded-md overflow-hidden",onClick:T=>e.$router.push({name:"anime",params:{animeId:a.animeId}})},[t("img",{class:"w-full h-full object-cover duration-300",src:a.animeImg,alt:""},null,8,j),t("span",B,[i(d,{name:"hi-solid-play",scale:"2.5",color:"red"})])],8,N),t("div",C,[t("p",D,r(a.animeTitle.substring(0,30)+"..."),1),t("span",I,"Released: "+r(a.releasedDate),1)])]))),128))]))]),i(m)])}const z=u(v,[["render",M]]);export{z as default};
