import{d as g,L as x,b as d,_ as u,c as a,a as e,t,f as w,i as b,F as c,r as m,e as h,g as l,o as i,n as L}from"./index-b87ddb69.js";import{R as y}from"./RelatedAnime-53ac91fc.js";import{S as v}from"./SideAnimeList-5574b476.js";const D=g({name:"WatchAnime",components:{SideAnimeList:v,Loading:x,RelatedAnime:y},data(){return{animeDetails:{animeTitle:"",type:"",releasedDate:"",status:"",animeImg:"",synopsis:"",otherNames:"",totalEpisodes:"",genres:[""],episodesList:[{episodeId:"",episodeNum:"",episodeUrl:""}]},animeLink:"",isLoading:!1,animeId:this.$route.params.animeId,currentEpisode:this.$route.params.episode,error:{isError:!1,errMsg:""}}},mounted(){this.fetchAnimeDetails(),this.fetchWatchAnime(this.currentEpisode)},watch:{"$route.params":{immediate:!0,handler(s){this.currentEpisode=s.episode,this.fetchWatchAnime(s.episode)}}},methods:{async fetchAnimeDetails(){this.isLoading=!0,await d.get(`/https://webdis-emec.onrender.com/anime-details/${this.animeId}`).then(s=>{this.animeDetails={...s.data},this.isLoading=!1}).catch(s=>{console.log(s),this.isLoading=!1,this.error={isError:!0,errMsg:s.message}})},async fetchWatchAnime(s){this.isLoading=!0,window.scrollTo({top:0,behavior:"smooth"}),await d.get(`/https://webdis-emec.onrender.com/vidcdn/watch/${s}`).then(n=>{this.animeLink=n.data.Referer,this.isLoading=!1}).catch(n=>{console.log(n),this.isLoading=!1,this.error={isError:!0,errMsg:n.message}})}}}),k={class:"w-full md:p-5 py-1 flex gap-5 justify-between"},A={class:"w-full"},E={class:"w-full min-h-screen bg-black md:rounded-xl overflow-hidden"},$={class:"bg-[red] w-full"},I={class:"text-sm md:text-base font-semibold text-white px-5 py-2"},N={key:1,class:"h-[80vh] grid place-content-center text-center"},T={class:"text-[red] text-xl"},C=e("p",{class:"text-white text-lg"},"Please try again later.",-1),R={key:2,class:"relative w-full md:p-5 flex flex-col md:flex-col-reverse gap-3"},S={class:"w-full h-[265px] xl:min-h-[75vh] relative overflow-hidden"},W=["src"],M={class:"w-full px-3 md:p-0"},B={class:"text-lg md:text-xl text-white font-bold"},V={class:"text-base md:text-lg"},F={class:""},j={class:"flex flex-wrap gap-x-2 items-start"},z=e("span",{class:"text-white/80 font-semibold text-[15px]"},"Genres: ",-1),G={class:"text-[red] text-sm"},H={class:"flex gap-2 items-end"},P=e("span",{class:"text-white/80 font-semibold text-[15px]"},"Type: ",-1),U={class:"text-[red] text-sm"},q={class:"flex gap-2 items-end"},J=e("span",{class:"text-white/80 font-semibold text-[15px]"},"Status: ",-1),K={class:"text-[red] text-sm"},O={class:"flex gap-2 items-end"},Q=e("span",{class:"text-white/80 font-semibold text-[15px]"},"Episodes: ",-1),X={class:"text-[red] text-sm"},Y={class:"flex gap-2 items-end"},Z=e("span",{class:"text-white/80 font-semibold text-[15px]"},"Released Date: ",-1),ee={class:"text-[red] text-sm"},se={class:"p-5"},te=e("p",{class:"text-white text-lg text-bold py-1"},"Episode List:",-1),ie={class:"flex flex-wrap gap-2"},ae=["onClick"];function oe(s,n,ne,le,re,de){const p=l("Loading"),_=l("RelatedAnime"),f=l("SideAnimeList");return i(),a("div",k,[e("div",A,[e("div",E,[e("header",$,[e("h3",I,"WATCH ANIME - "+t(s.animeDetails.animeTitle),1)]),s.isLoading?(i(),w(p,{key:0})):s.error.isError?(i(),a("span",N,[e("h2",T,t(s.error.errMsg),1),C])):(i(),a("div",R,[e("div",S,[e("iframe",{class:"w-full h-full",src:s.animeLink,allowfullscreen:"true",marginwidth:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",marginheight:"0",scrolling:"no",frameborder:"0"},null,8,W)]),e("div",M,[e("h2",B,[b(t(s.animeDetails.animeTitle)+" - ",1),e("span",V,t(s.currentEpisode),1)]),e("ul",F,[e("li",j,[z,(i(!0),a(c,null,m(s.animeDetails.genres,(o,r)=>(i(),a("span",{class:"flex flex-wrap gap-x-1",key:r},[e("p",G,t(o)+", ",1)]))),128))]),e("li",H,[P,e("p",U,t(s.animeDetails.type),1)]),e("li",q,[J,e("p",K,t(s.animeDetails.status),1)]),e("li",O,[Q,e("p",X,t(s.animeDetails.totalEpisodes),1)]),e("li",Y,[Z,e("p",ee,t(s.animeDetails.releasedDate),1)])])])])),e("div",se,[te,e("div",ie,[(i(!0),a(c,null,m(s.animeDetails.episodesList,o=>(i(),a("span",{key:o.episodeNum,onClick:r=>s.$router.push({name:"watch-anime",params:{animeid:s.animeId,episode:o.episodeId}}),class:L(["bg-[red] text-white cursor-pointer w-10 text-center",[s.currentEpisode===o.episodeId?"bg-black border border-white":""]])},t(o.episodeNum),11,ae))),128))])])]),h(_,{genres:s.animeDetails.genres},null,8,["genres"])]),h(f)])}const pe=u(D,[["render",oe]]);export{pe as default};
